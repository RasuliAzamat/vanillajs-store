"use strict";var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function support_format_webp(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0==e.toDataURL("image/webp").indexOf("data:image/webp")}isMobile.any()?document.body.classList.add("isMobile"):document.body.classList.remove("isMobile"),support_format_webp()&&document.body.classList.add("webp"),document.addEventListener("DOMContentLoaded",(function(e){var t=document.querySelector(".mobile-menu"),n=document.querySelector("#burger"),r=(document.querySelector(".overlay"),document.querySelector("#burger-close"));if(t){var o=function(){t.classList.toggle("active"),n.classList.toggle("active"),document.body.classList.toggle("no-scroll")};r.addEventListener("click",o),n.addEventListener("click",o)}var c=document.querySelectorAll(".body-nav");if(c.length){c.forEach((function(e){e.addEventListener("click",(function(e){var t,n,r=e.target.closest("button[nav-btn-js]");if(r&&!r.classList.contains("active")&&r.hasAttribute("has-content")){e.currentTarget.querySelector("button[nav-btn-js].active").classList.remove("active"),r.classList.add("active");var o=e.currentTarget.querySelectorAll(".nav-content"),c=r.getAttribute("nav-content");t=o,n=o[c],t.forEach((function(e){return e.classList.remove("active")})),n.classList.add("active")}}))}))}var a=document.querySelectorAll(".nav .nav__list-item[has-content] > button"),s=document.querySelectorAll(".nav .nav__list-item[has-content] .body-nav");function i(e){for(var t=0;t<s.length;t++)+e!=+s[t].getAttribute("number-content")&&(s[t].classList.remove("active"),a[t].classList.remove("active"))}isMobile.any()&&a.forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget.closest(".nav__list-item[has-content]").querySelector(".body-nav");i(t.getAttribute("number-content")),function(e,t){e.classList.toggle("active"),t.classList.toggle("active")}(t,e.currentTarget)}))})),function(){var e=document.querySelector(".intro-swiper");if(e)new Swiper(e,{loop:!0,speed:700,spaceBetween:30,pagination:{el:".swiper-pagination",type:"custom",renderCustom:function(e,t,n){console.log(t,n,e);var r=t<10?"0".concat(t):t,o=n<10?"0".concat(n):n;return'<span class="current">'.concat(r,"</span>")+' <span class="divider">–</span> '+'<span class="total">'.concat(o,"</span>")}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var t=document.querySelectorAll(".slider-products-swiper");t.length&&t.forEach((function(e){new Swiper(e,{loop:!0,speed:700,spaceBetween:40,slidesPerView:2,navigation:{nextEl:e.closest(".slider-products").querySelector(".swiper-button-next"),prevEl:e.closest(".slider-products").querySelector(".swiper-button-prev")},breakpoints:{320:{slidesPerView:2,spaceBetween:20,allowTouchMove:!0},576:{slidesPerView:2,spaceBetween:40},800:{slidesPerView:2,spaceBetween:40},991:{slidesPerView:2.4,spaceBetween:40},1150:{slidesPerView:3.7,spaceBetween:40}}})}));var n=document.querySelector(".swiper-features"),r=document.querySelector(".features");if(n)new Swiper(n,{loop:!0,speed:700,spaceBetween:30,slidesPerView:1,pagination:{el:r.querySelector(".swiper-pagination"),type:"custom",renderCustom:function(e,t,n){var r=t<10?"0".concat(t):t,o=n<10?"0".concat(n):n;return'<span class="current">'.concat(r,"</span>")+' <span class="divider">–</span> '+'<span class="total">'.concat(o,"</span>")}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var o=document.querySelector(".social-block-swiper");if(o)new Swiper(o,{loop:!0,speed:700,spaceBetween:20,centeredSlides:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:1.8,spaceBetween:20,allowTouchMove:!0},768:{slidesPerView:3,spaceBetween:20},991:{slidesPerView:3.2,spaceBetween:40}}});var c=document.querySelector(".product-slider");if(c)new Swiper(c,{speed:700,spaceBetween:18,pagination:{el:".swiper-pagination",dynamicBullets:!0},breakpoints:{320:{slidesPerView:1},1076:{slidesPerView:1.33}}})}();document.querySelector(".slots-choice");var l=document.querySelectorAll(".select__header"),u=document.querySelectorAll(".select__item"),d=document.querySelectorAll(".select");if(l.length){for(var v=function(){m(this.closest(".select").dataset.select),this.closest(".select").classList.toggle("active")},p=function(){var e=this.closest(".select");if(e.classList.contains("select-size")){var t=this.querySelector("span.size").textContent,n=this.querySelector("span.height").textContent,r=this.querySelector("input[size]").value,o=this.querySelector("input[height]").value,c=e.querySelector(".select__header span.size"),a=e.querySelector(".select__header span.height"),s=e.querySelector(".select__header input[size]"),i=e.querySelector(".select__header input[height]");return c.textContent=t,a.textContent=n,s.value=r,i.value=o,e.classList.remove("active"),!1}var l=this.textContent.replace(/г. /gi,""),u=this.querySelector("input").value,d=e.querySelector(".select__header span");e.querySelector('.select__header input[type="hidden"]').value=u,d.textContent=l,e.classList.remove("active")},m=function(e){for(var t=0;t<d.length;t++)+e!=+d[t].dataset.select&&d[t].classList.remove("active")},f=0;f<l.length;f++)l[f].addEventListener("click",v);for(var g=0;g<u.length;g++)u[g].addEventListener("click",p)}var y,h=document.querySelector(".modal-overlay");h&&h.addEventListener("click",(function(e){if(e.target===h||e.target.closest("button.modal-close")){var t=h.querySelector(".modal.active");(n=t).classList.remove("active"),setTimeout((function(){n.style.display="none",h.classList.remove("active")}),170),document.body.classList.remove("no-scroll")}var n})),function(){var e=document.querySelectorAll(".form__area");if(!e.length)return!1;e.forEach((function(e){e.addEventListener("keyup",(function(e){this.style.height="210px",this.style.height=this.scrollHeight+"px"}))}))}(),(y=document.querySelectorAll(".filter-range"))&&y.forEach((function(e){var t=+e.getAttribute("min-value"),n=+e.getAttribute("max-value"),r=e.getAttribute("data-prefix");noUiSlider.create(e,{start:[t,n],connect:!0,range:{min:t,max:n},tooltips:!0,format:wNumb({decimals:0,thousand:" ",edit:function(e){return r?"".concat(e," ").concat(r):e}})});var o=e.closest(".drop-range").querySelector(".filter-range-start"),c=e.closest(".drop-range").querySelector(".filter-range-end"),a=[o,c];function s(){var t=o.value,n=c.value;e.noUiSlider.set([t,n])}e.noUiSlider.on("update",(function(e,t){a[t].value=e[t]})),o.addEventListener("change",s),c.addEventListener("change",s)})),function(){var e=document.querySelector("#ymap");if(!e)return!1;var t=e.getAttribute("icon-url"),n=e.getAttribute("zoom-map"),r=e.getAttribute("coordinate-map").split(","),o=[79,84],c=[-15,-88];document.documentElement.clientWidth<=575&&(o=[45,49],c=[-15,-48]),ymaps.ready((function(){var e=new ymaps.Map("ymap",{center:[+r[0],+r[1]],zoom:n},{searchControlProvider:"yandex#search"}),a=(ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),new ymaps.Placemark(e.getCenter(),{hintContent:"Собственный значок метки",balloonContent:"Это красивая метка"},{iconLayout:"default#image",iconImageHref:t,iconImageSize:o,iconImageOffset:c}));e.geoObjects.add(a),e.behaviors.disable("scrollZoom")}))}(),function(){var e=document.querySelectorAll("video");if(!e.length)return!1;e.forEach((function(e){e.addEventListener("click",(function(e){this.paused?(this.play(),this.closest(".swiper-slide").querySelector("button.play").style.display="none"):(this.pause(),this.closest(".swiper-slide").querySelector("button.play").style.display="block")}))}))}(),function(){var e=document.querySelectorAll(".counter-btn--plus"),t=document.querySelectorAll(".counter-btn--minus"),n=document.querySelectorAll("[product-js] [data-meter]"),r=document.querySelector(".cart .cart__total-price"),o=document.querySelectorAll('.cart input[input-price="desktop"]'),c=document.querySelector("[product-js]");function a(e){!function(e){if(!n.length)return!1;var t=c.querySelector('[data-meter~="'.concat(e,'"]'));t&&function(e,t){n.forEach((function(e){return e.classList.remove("orange")})),e.classList.add("orange");var r=e.getAttribute("per-meter-price");t.setAttribute("product-price",r)}(t,c)}(+e.value);var t=e.closest("[product-js]"),r=t.querySelectorAll("[product-prices-js]"),o=+e.value*+t.getAttribute("product-price"),a=new Intl.NumberFormat("ru-RU").format(o);r.forEach((function(e){e.querySelector("input[input-price]").value=o,e.querySelector("[price-display]").textContent="".concat(a," руб.")})),s()}function s(){if(!r)return!1;var e=0;o.forEach((function(t){e+=+t.value})),r.textContent="".concat(e," руб.")}s(),function(){if(!n.length)return!1;n.forEach((function(e){var t=e.getAttribute("data-meter").split("-"),n=t[0],r=t[1];if(r){for(var o="",c=+n;c<=+r;c++)o+="".concat(c," ");e.setAttribute("data-meter",o)}else e.setAttribute("data-meter",n)}))}(),e.length&&t.length&&(e.forEach((function(e){e.addEventListener("click",(function(e){!function(e){e.value=+e.value+1;var t=e.closest(".product-counter").querySelector("span.counter-display-js");t&&(t.textContent="".concat(+e.value," М")),a(e)}(e.target.closest(".product-counter").querySelector("input[counter-input-js]"))}))})),t.forEach((function(e){e.addEventListener("click",(function(e){!function(e){if(1==+e.value)return!1;e.value=+e.value-1;var t=e.closest(".product-counter").querySelector("span.counter-display-js");t&&(t.textContent="".concat(+e.value," М")),a(e)}(e.target.closest(".product-counter").querySelector("input[counter-input-js]"))}))})))}(),document.body.addEventListener("click",(function(e){!e.target.closest(".select")&&document.querySelector(".select.active")&&d.forEach((function(e){e.classList.remove("active")}));var t=e.target.closest("button[cart-btn]"),n=e.target.closest("a.product__img");if(n&&(e.preventDefault(),t||(window.location.href=n.getAttribute("href"))),e.target.closest("button[data-modal]")){var r=e.target.dataset.modal,o=document.querySelector("#".concat(r));h.classList.add("active"),function(e){e.style.display="block",setTimeout((function(){e.classList.add("active")}),100),document.body.classList.add("no-scroll")}(o)}!e.target.closest(".nav__list-item")&&document.querySelector(".nav .nav__list-item[has-content] .body-nav.active")&&(a.forEach((function(e){return e.classList.remove("active")})),i())}));var b=document.querySelectorAll("[hover-products-js]");b.length&&b.forEach((function(e){["mouseover","mouseout"].forEach((function(t){e.addEventListener(t,(function(e){var t=e.target.closest("button[cart-btn]");"mouseover"===e.type&&t&&t.classList.contains("no-sales")?t.textContent="нет в наличии":"mouseout"===e.type&&t&&t.classList.contains("no-sales")&&(t.textContent="в корзину")}))}))}));var S=document.querySelectorAll("button[btn-filter]"),w=document.querySelector(".filters-menu");function q(){w.classList.toggle("active"),document.body.classList.toggle("no-scroll")}S.length&&S.forEach((function(e){e.addEventListener("click",q)}));var L=document.querySelector("button[show-form-search]"),_=document.querySelector(".main-search form"),E=document.querySelector(".overlay");if(L){var A=function(){_.classList.toggle("active"),E.classList.toggle("active"),document.body.classList.toggle("no-scroll")};L.addEventListener("click",A),E.addEventListener("click",A)}var x=document.querySelectorAll("input[show-content]");x.length&&x.forEach((function(e){e.addEventListener("change",(function(e){var t=e.currentTarget.getAttribute("show-content"),n=document.querySelector("#".concat(t));e.currentTarget.checked?n.classList.add("active"):n.classList.remove("active")}))}));var C=document.querySelectorAll("[js-tab]"),k=document.querySelectorAll("[js-tab-content]");if(C.length){C.forEach((function(e){e.addEventListener("click",(function(e){var t,n=e.currentTarget.getAttribute("content-index");n&&!e.currentTarget.classList.contains("active")&&(t=n,k.forEach((function(e,t){e.classList.remove("active"),C[t].classList.remove("active")})),k[t].classList.add("active"),P(),document.documentElement.clientWidth>=768&&(document.querySelector(".orders__table[hide-block-js]").style.display="flex"),e.currentTarget.classList.add("active"))}))}))}var B=document.querySelectorAll("button[js-order]"),j=document.querySelectorAll(".info-order .info-order__content");function P(){j.forEach((function(e){e.classList.remove("active")}))}if(B.length){B.forEach((function(e){e.addEventListener("click",(function(e){for(var t=0;t<B.length;t++)e.currentTarget===B[t]&&(n=t,P(),j[n].classList.add("active"));var n;e.currentTarget.closest(".orders__table[hide-block-js]").style.display="none"}))}))}})),$((function(){$("[hover-products-js]").on("click",(function(e){var t=$(e.target.closest(".detail"));t&&(t.find(".detail__content").hasClass("show")?(t.find(".detail__content").removeClass("show"),t.find(".detail__content").slideUp(350),t.find("button.toggle").removeClass("active")):(t.find(".detail__content").removeClass("show"),t.find(".detail__content").slideUp(350),t.find(".detail__content").toggleClass("show"),t.find(".detail__content").slideToggle(350),t.find("button.toggle").addClass("active")))})),$("button.toggle-slide").on("click",(function(e){e.preventDefault();var t=$(this);t.next().hasClass("show")?(t.next().removeClass("show"),t.next().slideUp(350),t.removeClass("active"),t.parent().hasClass("nav__list-item")&&t.css({"margin-bottom":"0"})):(t.next().removeClass("show"),t.next().slideUp(350),t.next().toggleClass("show"),t.next().slideToggle(350),t.addClass("active"),t.parent().hasClass("nav__list-item")&&t.css({"margin-bottom":"7px"}))}))}));